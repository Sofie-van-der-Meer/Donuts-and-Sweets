<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/stylesheets/style.css">
    <script src="https://kit.fontawesome.com/6d66c3d9c5.js" crossorigin="anonymous"></script>
    <title>Donuts</title>
</head>
<body data-bs-theme="dark" >
    <div class="container px-0">
        <main class="productpage fixed-container mx-auto">
            <!-- <img src="<%= product.imageUrl %>" alt="" class="fixed-top fixed-container mx-auto">       -->

            <header class="position-relative">
                <a href="/" class="btn border border-warning bg-warning-subtle m-4 position-absolute" style="--bs-border-opacity: .5; z-index: 100;"><i class="fa-solid fa-angle-left fa-lg"></i></a>
                <img src="<%= product.imageUrl %>" alt="" class="fixed-container mx-auto">                
            </header>

    
            <article class="position-relative fixed-container mx-auto">
                <div class="trapezoid position-absolute"></div>
    
                <section class="col-2 col-md-1 p-3 me-md-5 bg-warning bg-opacity-50 badge 
                        position-absolute end-0  translate-middle 
                        d-flex flex-column align-items-center justify-content-center">
                    <a href="<%= product.productId %>/add" class="m-0 badge bg-warning-subtle rounded-circle p-1" 
                    style="--bs-badge-font-size: 1rem; aspect-ratio: 1;"><i class="fa-solid fa-plus fa-xs"></i></a>
                    <% if (cart.products[product.productId]) { %>
                    <h5 class="my-2 bg-warning rounded-circle text-black" style=" aspect-ratio: 1;"><%= cart.products[product.productId] %></h5>
                    
                    <a href="<%= product.productId %>/reduce" class="m-0 badge bg-warning-subtle rounded-circle p-1" 
                    style="--bs-badge-font-size: 1rem; aspect-ratio: 1;"><i class="fa-solid fa-minus fa-xs"></i></a>
                    <% } %>

                </section>
    
                <section class="mx-3">
                    <section class="card-body py-5 px-3 px-md-5">
                        <h5 class="card-title"><%= product.name %></h5>
                        <p class="card-text"><%= product.description %></p>
                    </section>
                    <ul class="d-flex card-footer mt-2 justify-content-evenly">
                        <li class="badge border border-warning p-2">&euro;<%= product.price %> / piece</li>

                        <li class="badge border border-warning bg-warning bg-opacity-50 p-2">&euro;
                            <% if (cart.products[product.productId]) { %>
                                <%= product.price * cart.products[product.productId] %> 
                            <% } else { %>
                                <%= product.price %> 
                            <% } %>
                            total price</li>
                        <!-- <li class="list-group-item"><%= product.stock %> pieces</li> -->
                    </ul>                
                </section>
            </article>
        </main>

        <%- include('../components/_footer') %>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>