<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/6d66c3d9c5.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="/stylesheets/style.css">
    <title>Donuts</title>
</head>
<body data-bs-theme="dark" id="top">
    <div class="container">
        <header class="pt-3 pb-1 sticky-top bg-body">

            <section class="d-flex w-100 justify-content-between">
                <hgroup class="my-auto">
                    <h1>SWEET DONUT</h1>
                    <h5>ORDER NOW</h5>
                </hgroup>
                <a href="/cart" class="btn btn-warning p-0 d-flex flex-column col-md-1 col-3">
                    <div class="position-relative my-3">
                        <i class="fa-solid fa-cart-shopping fa-xl my-3"></i>
                        <div class="position-absolute translate-middle bg-danger badge rounded-circle"><%= cart.amount %></div>   
                    </div>
                    <strong class=" align-content-center">&euro;<%= cart.total %></strong>
                    <small class="">Total price</small>
                </a>
            </section>
            <aside>
                <nav class="navbar mt-4 bg-dark">
                    <ul class="navbar-nav d-flex flex-row justify-content-start w-100">
                        <% categories.forEach(category => { %>
                            <li class="nav-item me-3">
                                <a href="#<%= category.name %>" class="btn btn-outline-warning badge"><%= category.name %></a>
                            </li>
                            
                        <% }) %>                     
                    </ul>
                </nav>
            </aside>

        </header>
        <main>
            <% categories.forEach(category => { %>
                <section id="<%= category.name %>" class="row border-bottom border-warning-subtle">
                    <% products.forEach(product => { 
                        if (product.categoryId == category.categoryId) { %>
                            <a href="/products/<%= product.productId %>" class="card col-lg-4 col-md-6 col-12 my-2 vh-35 border-dark rounded-5">
                                <img src="<%= product.imageUrl %>" alt="" class="card-img object-fit-cover rounded-5">
                                <section class="card-img-overlay text-light m-3 d-flex flex-column justify-content-end">
                                    <h5 class="card-title"><%= product.name %></h5>
                                    <span class="card-text"><%= product.description %></span>
                                </section>
                            </a>
                    <% } }) %>
                </section>
                <% }) %>    
        </main>

    </div>
    <footer class="sticky-bottom">
        <nav class="navbar bg-body-tertiary rounded-top-5">
            <ul class="navbar-nav d-flex flex-row justify-content-evenly w-100 m-3">
                <li class="nav-item">
                    <a href="#top" class="nav-link">HOME</a>
                </li>
                <li class="nav-item">
                    <a href="/orders" class="nav-link">ORDERS</a>
                </li>
                <li class="nav-item">
                    <a href="/account" class="nav-link">ACCOUNT</a>
                </li>
            </ul>
        </nav>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>